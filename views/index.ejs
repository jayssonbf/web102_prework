
<%- include('header') -%>
    
    <!-- header row with logo -->
    <div class="header">
        <img id="tentacles" src="./assets/tentacles.png">
        <h1 class="header-text">Sea Monster Crowdfunding</h1>
    </div>

    <!-- background info about company -->
    <h2>Welcome to Sea Monster!</h2>
    <div id="description-container">
        <p>The purpose of our company is to fund independent games. We've been in operation for 12 years.</p>
        <p><%= displayStr %></p>
    </div>

    <!-- top games & other interesting stats -->
    <h2>Stats</h2>
    <div class="stats-container">
        <div class="stats-card">
            <h3>Individual Contributions</h3>
            <% let num_contributions = games.reduce( (acc, contrib) => { 
              return acc + contrib.backers;}, 0); %>

            <p id="num-contributions">
              <%= num_contributions.toLocaleString('en-US') %>
            </p>
        </div>
        <div class="stats-card">
            <h3>Total Raised</h3>
            <% let totalRaised = games.reduce( (acc, raised) => { 
              return acc + raised.pledged;}, 0); %>
            <p id="total-raised">$
              <%= totalRaised.toLocaleString('en-US') %>
            </p>
        </div>
        <div class="stats-card">
            <h3>Total Number of Games</h3>
            <p id="num-games">
              <%= games.length.toLocaleString('en-US') %>
            </p>
        </div>
    </div>
    <div class="stats-container" id="top-games">
        <div class="stats-card" id="first-game">
            <h3>ðŸ¥‡ Top Funded Game</h3>
            <p><%= topFundedGames[0].name %></p>
            
        </div>
        <div class="stats-card" id="second-game">
            <h3>ðŸ¥ˆ Runner Up</h3>
            <p><%= topFundedGames[1].name %></p>
        </div>
    </div>

    <!-- list of games funded by Sea Monster -->
    <h2>Our Games</h2>
    <p>Check out each of our games below!</p>
    <div id="button-container">
      <form action="/" method="post">
        <button name="buttonID" value="unfunded" id="unfunded-btn"> Show Unfunded Only</button>
        <button name="buttonID" value="funded" id="funded-btn">Show Funded Only</button>
        <button name="buttonID" value="all" id="all-btn">Show All Games</button>
      </form>
        
    </div>
    <div id="games-container">
      <% for(let i = 0; i < games.length; i++){ %>
            <div class="game-card">
              <img class="game-img" src= <%= games[i].img %>>
              <h3><%= games[i].name %></h3>
              <p><%= games[i].description %></p>
              <p>Backers: <%= games[i].backers %></p>
            </div>
      <% } %>
    </div>


    <%- include('footer') -%>
 